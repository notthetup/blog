---
layout: post
title: 'RaspberryPi Soundboard – Update #1'
categories:
- Dev
- Gadgets
- Tech
tags: []
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  _wpas_done_all: '1'
  _wp-svbtle-kudos: '8'
  _wpas_skip_5867696: '1'
author:
  login: chinpen
  email: chinpen@chinpen.net
  display_name: chinpen
  first_name: Chin
  last_name: Pen
---
<p>I spent the last couple of days working on the <a href="http://chinpen.net/blog/2014/01/raspberrypi-soundboard-intro/">RaspberryPi Soundboard</a>, and I must say I'm kind of frustrated with Linux Audio. It seems much harder to get stuff working when you want to keep things simpler and not use a GUI.</p>
<p>This is what I've achieved.</p>
<p>1. I have a fully configured (WiFi, SSH, etc, etc) Pi running <a href="http://archlinuxarm.org/packages">Archlinux</a> + <a href="http://i3wm.org/docs/userguide.html">i3wm</a> for GUI</p>
<p>2. I have <a href="http://mumble.sourceforge.net">Mumble</a> running from the command line even when no display is connected to the Pi. "<em>Yay!!</em>"</p>
<p>3. I have <a href="http://pulseaudio.org">Pulseaudio</a> running with all the correct settings on the Pi.</p>
<p><img class="aligncenter size-medium wp-image-3794" alt="RaspberryPi" src="http://chinpen.net/blog/wp-content/uploads/2014/02/IMG_20140203_212926-300x222.jpg" width="300" height="222" /></p>
<p>The main issue I faced was piping the audio. As much as Pulseaudio is the solution to mix and pipe audio around, letting me pipe audio coming from a player (say <a href="http://alsa.opensrc.org/Aplay">aplay</a> or <a href="http://sox.sourceforge.net/sox.html">sox</a>)  into another application is really difficult. I faced a couple of main issues.</p>
<p>1. It seem none of the players let you choose which "sink" in Pulseaudio should they connect to. I only saw that option in <a href="http://mpd.wikia.com">mpd</a>, but that seemed like a total overkill for what I want to do.</p>
<p>2. While using Pulseaudio's <em>sink.monitor </em>feature works perfectly for my<a href="http://chinpen.net/blog/2013/11/streaming-audio/"> streaming server use case</a>, the soundboard has a slightly different needs. Here we need the audio from the player to end up in Mumble. I am envisioning a Pulseaudio configuration along this line.</p>
<p>aplay <strong>=&gt;</strong> Pulseaudio null-stream <strong>--&gt;</strong> stream.monitor <strong>=&gt;</strong> Mumble.</p>
<p>3. Finally, getting Mumble to receive audio from Pulseaudio is straightforward, but to set it to receive it from a monitor of a sink seems challenging. The funny bit was I could easily do it using GUI (<a href="http://freedesktop.org/software/pulseaudio/pavucontrol/">pavucontrol</a>) but couldn't find the command (pacmd?? pactl??) to do that.</p>
<p>Any ideas or suggestions would be welcome!! Please comment below!</p>
<p>&nbsp;</p>
